<!DOCTYPE html>
<html lang="en">
  <head>
    <title>CV</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href='https://fonts.googleapis.com/css?family=Epilogue' rel='stylesheet'>
    <script type="module" src="script.js"></script>
  </head>
  <body>
    <header class="headerClass">
      <h1>Leo Middleton </h1> 
      <nav> 
        <a href="/index.html">About </a>
        <a href="/research.html">Research</a>
        <a href="/publications.html">Publications</a>
        <a href="/" aria-current="page">CV</a>

        <button onclick="myFunction()">
            <i class="fas fa-moon"></i> 
        </button>

        <script>
        (function(){
          const STORAGE_KEY = 'darkMode';
          const body = document.body;
          function apply(value){
            if (value === 'true') body.classList.add('darkMode');
            else body.classList.remove('darkMode');
          }
          // initialize from storage
          apply(localStorage.getItem(STORAGE_KEY));
          // toggle and persist
          window.myFunction = function(){
            const isDark = body.classList.toggle('darkMode');
            localStorage.setItem(STORAGE_KEY, isDark);
          };
          // sync across tabs
          window.addEventListener('storage', (e) => {
            if (e.key === STORAGE_KEY) apply(e.newValue);
          });
        })();
        </script>
      </nav>
    </header>
    <main>
      <div class="backgroundPic"> 
        <div class="leoFace">
            <p>CV</p>
        </div>
      <!-- <img src="./images/775637A42108457BB924E15E630A6CC8.jpg" alt="" class="leoFace"/> -->
      </div>
    </main>
    <div style="height:48px" aria-hidden="true"></div>
    <embed src="./pdfs/CV_Leo_Middleton.pdf" type="application/pdf" width="100%" height="1200px" />
  </body>
  <script>
  (function(){
    // Replace the email and githubUrl values below with your real contact info
    const email = 'leo.middleton@gu.se';
    const githubUrl = 'https://github.com/Leojpm';
    const githubLinkText = 'Site by @me';
    // Update the footer link text after the footer is created
    setTimeout(() => {
      const anchor = document.querySelector('.site-footer a[href="' + githubUrl + '"]');
      if (anchor) {
      anchor.innerHTML = `<i class="fab fa-github" aria-hidden="true"></i> ${githubLinkText}`;
      }
    }, 0);

    const footer = document.createElement('footer');
    footer.className = 'site-footer';
    footer.setAttribute('role', 'contentinfo');
    footer.innerHTML = `
      <div class="footer-inner">
        <a href="mailto:${email}">${email}</a>
        <span class="sep" aria-hidden="true">â€¢</span>
        <a href="${githubUrl}" target="_blank" rel="noopener noreferrer">
          <i class="fab fa-github" aria-hidden="true"></i>
          GitHub
        </a>
      </div>
    `;
    document.body.appendChild(footer);

    const css = `
      .site-footer {
        padding: 1rem;
        text-align: center;
        border-top: 1px solid rgba(0,0,0,0.08);
        font-size: 0.95rem;
        background: transparent;
      }
      .site-footer a { color: inherit; text-decoration: none; }
      .site-footer .sep { margin: 0 0.5rem; color: rgba(0,0,0,0.5); }
      body.darkMode .site-footer { border-top-color: rgba(255,255,255,0.08); }
      @media (prefers-color-scheme: dark) {
        .site-footer .sep { color: rgba(255,255,255,0.5); }
      }
    `;
    const style = document.createElement('style');
    style.appendChild(document.createTextNode(css));
    document.head.appendChild(style);
  })();
  </script>
</html>
